import OpenAI from "openai";

const openai = new OpenAI({ apiKey: process.env.OPENAI_API_KEY });

export async function generateDayCampaign() {
  const today = new Date().toLocaleDateString("ka-GE", { weekday: "long", year: "numeric", month: "long", day: "numeric" });

  const prompt = `
рЃЊрЃдрЃћрЃА рЃљрЃарЃўрЃА ${today}.
рЃерЃћрЃЦрЃЏрЃћрЃюрЃў рЃЊрЃдрЃўрЃБрЃарЃў рЃЏрЃљрЃарЃЎрЃћрЃбрЃўрЃюрЃњ рЃЎрЃљрЃЏрЃърЃљрЃюрЃўрЃљ ASTROMAN-рЃўрЃАрЃЌрЃЋрЃўрЃА (рЃбрЃћрЃџрЃћрЃАрЃЎрЃЮрЃърЃћрЃЉрЃў, рЃџрЃљрЃЏрЃърЃћрЃЉрЃў, рЃАрЃљрЃ«рЃџрЃўрЃА рЃЊрЃћрЃЎрЃЮрЃарЃў).

рЃЊрЃљрЃЉрЃарЃБрЃюрЃћ рЃАрЃбрЃарЃБрЃЦрЃбрЃБрЃарЃўрЃарЃћрЃЉрЃБрЃџрЃў рЃњрЃћрЃњрЃЏрЃљ:
­ЪЊї рЃЊрЃдрЃўрЃА рЃЏрЃЌрЃљрЃЋрЃљрЃарЃў рЃЌрЃћрЃЏрЃљ
­ЪЊЮ 3 Facebook/Instagram рЃърЃЮрЃАрЃбрЃў (рЃАрЃарЃБрЃџрЃў рЃбрЃћрЃЦрЃАрЃбрЃў)
­ЪЊ▒ 2 рЃАрЃЌрЃЮрЃарЃўрЃА рЃўрЃЊрЃћрЃљ
­Ъј» рЃАрЃљрЃЏрЃўрЃќрЃюрЃћ рЃљрЃБрЃЊрЃўрЃбрЃЮрЃарЃўрЃљ
­Ъњ░ рЃЉрЃўрЃБрЃ»рЃћрЃбрЃўрЃА рЃарЃћрЃЎрЃЮрЃЏрЃћрЃюрЃЊрЃљрЃфрЃўрЃљ (GEL)
РЈ░ рЃърЃЮрЃАрЃбрЃћрЃЉрЃўрЃА рЃЊрЃарЃЮ
`;

  const response = await openai.chat.completions.create({
    model: "gpt-4o",
    temperature: 0.8,
    messages: [
      { role: "system", content: "рЃерЃћрЃю рЃ«рЃљрЃа ASTROMAN-рЃўрЃА рЃЏрЃљрЃарЃЎрЃћрЃбрЃўрЃюрЃњ рЃАрЃбрЃарЃљрЃбрЃћрЃњрЃў. рЃгрЃћрЃа рЃЦрЃљрЃарЃЌрЃБрЃџрЃљрЃЊ, рЃЎрЃЮрЃюрЃЎрЃарЃћрЃбрЃБрЃџрЃљрЃЊ рЃЊрЃљ рЃњрЃљрЃДрЃўрЃЊрЃЋрЃљрЃќрЃћ рЃЮрЃарЃўрЃћрЃюрЃбрЃўрЃарЃћрЃЉрЃБрЃџрЃљрЃЊ." },
      { role: "user", content: prompt }
    ]
  });

  return response.choices[0].message.content;
}

export async function generateWeekCampaign() {
  const prompt = `
рЃерЃћрЃЦрЃЏрЃћрЃюрЃў 7-рЃЊрЃдрЃўрЃљрЃюрЃў рЃЏрЃљрЃарЃЎрЃћрЃбрЃўрЃюрЃњ рЃњрЃћрЃњрЃЏрЃљ ASTROMAN-рЃўрЃАрЃЌрЃЋрЃўрЃА.

рЃЊрЃљрЃЉрЃарЃБрЃюрЃћ:
­ЪЊЁ рЃДрЃЮрЃЋрЃћрЃџрЃў рЃЊрЃдрЃћ рЃфрЃљрЃџ-рЃфрЃљрЃџрЃЎрЃћ (рЃЮрЃарЃерЃљрЃЉрЃљрЃЌрЃў Рєњ рЃЎрЃЋрЃўрЃарЃљ)
Рђб рЃЊрЃдрЃўрЃА рЃЌрЃћрЃЏрЃљ
Рђб рЃърЃЮрЃАрЃбрЃўрЃА рЃўрЃЊрЃћрЃљ + рЃЎрЃљрЃцрЃфрЃўрЃљ
Рђб рЃАрЃЌрЃЮрЃарЃўрЃА рЃўрЃЊрЃћрЃљ
Рђб рЃ░рЃћрЃерЃЌрЃћрЃњрЃћрЃЉрЃў

­Ъј» рЃЎрЃЋрЃўрЃарЃўрЃА рЃЏрЃўрЃќрЃљрЃюрЃў (рЃњрЃљрЃДрЃўрЃЊрЃЋрЃћрЃЉрЃў / рЃЉрЃарЃћрЃюрЃЊ-рЃњрЃљрЃфрЃюрЃЮрЃЉрЃљ / рЃћрЃарЃЌрЃњрЃБрЃџрЃћрЃЉрЃљ)
­Ъњ░ рЃЎрЃЋрЃўрЃарЃўрЃА рЃАрЃљрЃарЃћрЃЎрЃџрЃљрЃЏрЃЮ рЃЉрЃўрЃБрЃ»рЃћрЃбрЃў (GEL)
­ЪЊі KPI-рЃћрЃЉрЃў: рЃарЃљ рЃерЃћрЃЊрЃћрЃњрЃў рЃБрЃюрЃЊрЃљ рЃЋрЃћрЃџрЃЮрЃЊрЃЮрЃЌ
`;

  const response = await openai.chat.completions.create({
    model: "gpt-4o",
    temperature: 0.8,
    messages: [
      { role: "system", content: "рЃерЃћрЃю рЃ«рЃљрЃа ASTROMAN-рЃўрЃА рЃЏрЃљрЃарЃЎрЃћрЃбрЃўрЃюрЃњ рЃАрЃбрЃарЃљрЃбрЃћрЃњрЃў. рЃгрЃћрЃа рЃЦрЃљрЃарЃЌрЃБрЃџрЃљрЃЊ, рЃЎрЃЮрЃюрЃЎрЃарЃћрЃбрЃБрЃџрЃљрЃЊ рЃЊрЃљ рЃњрЃљрЃДрЃўрЃЊрЃЋрЃљрЃќрЃћ рЃЮрЃарЃўрЃћрЃюрЃбрЃўрЃарЃћрЃЉрЃБрЃџрЃљрЃЊ." },
      { role: "user", content: prompt }
    ]
  });

  return response.choices[0].message.content;
}
